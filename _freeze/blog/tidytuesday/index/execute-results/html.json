{
  "hash": "273520f915086fbbf4742d5d318bfd47",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Mis primeros pasos en #tidytuesday\"\nauthor: \"Andrea Gomez Vargas\"\ndate: '2023-04-25'\nslug: tidytuesday\ncategories:\n  - RLadies \n  - R\ntags:\n- RLadies Global\n- Twitter\n- R\ntype: post\n---\n\n\n## R4DS - R para Ciencia de Datos\n\n![](featured.png)\n\n<img src=\"https://user-images.githubusercontent.com/29187501/38734884-c31c6c30-3eec-11e8-966b-17172b21a279.png\" alt=\"R4DS hex\" style=\"float: left;\" width=\"30%\"/>\n\n[**R4DS**](https://rfordatasci.com/) es una comunidad de aprendices de R de todos los niveles que trabajan juntos para mejorar sus habilidades en ciencia de datos. Y dentro de las actividades de la comunidad es tidytuesday, que es un proyecto semanal de datos sociales. Todos están invitados a participar y se invita a compartir el código utilizado para generar los resultados.\n\nAcá puedes conocer el [repositorio del proyecto con la actividad de cada semana y participar!](https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-04-25/readme.md)\n\n<br>\n\n<br>\n\n<br>\n\n## Semana elegida `{tidytuesday}`: **Week 17 - 2023: London Marathon** :running:\n\n#### Paquetes a utilizar\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse) # manipulación del dato\nlibrary(plotly) # gráfico interactivo\nlibrary(tidytuesdayR) # obtengo dataset\n```\n:::\n\n\n#### dataset elegido\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntuesdata <- tidytuesdayR::tt_load('2023-04-25')\nwinners <- tuesdata$winners\n```\n:::\n\n\n## Gráficos\n\nQuise probar con dos paquetes el mismo resultado.\n\n### En `{plotly}`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncount(winners, Nationality, Category) %>%   \n    plot_ly(x=~Nationality, y=~n,  type = 'bar')\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-6318bb2066bb18472e0f\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-6318bb2066bb18472e0f\">{\"x\":{\"visdat\":{\"2f644f5b2b5f\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"2f644f5b2b5f\",\"attrs\":{\"2f644f5b2b5f\":{\"x\":{},\"y\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Nationality\",\"type\":\"category\",\"categoryorder\":\"array\",\"categoryarray\":[\"Australia\",\"Belgium\",\"Canada\",\"China\",\"Denmark\",\"Ethiopia\",\"France\",\"Germany\",\"Ireland\",\"Italy\",\"Japan\",\"Kenya\",\"Mexico\",\"Morocco\",\"Netherlands\",\"Norway\",\"Poland\",\"Portugal\",\"Soviet Union\",\"Spain\",\"Sweden\",\"Switzerland\",\"United Kingdom\",\"United States\"]},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"n\"},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[\"Australia\",\"Australia\",\"Belgium\",\"Canada\",\"China\",\"Denmark\",\"Denmark\",\"Ethiopia\",\"Ethiopia\",\"France\",\"Germany\",\"Ireland\",\"Ireland\",\"Ireland\",\"Italy\",\"Japan\",\"Japan\",\"Kenya\",\"Kenya\",\"Mexico\",\"Mexico\",\"Morocco\",\"Netherlands\",\"Norway\",\"Norway\",\"Poland\",\"Portugal\",\"Portugal\",\"Soviet Union\",\"Spain\",\"Sweden\",\"Sweden\",\"Switzerland\",\"Switzerland\",\"United Kingdom\",\"United Kingdom\",\"United Kingdom\",\"United Kingdom\",\"United States\",\"United States\",\"United States\",\"United States\"],\"y\":[2,1,1,4,1,1,2,5,4,3,5,2,3,1,4,2,1,16,14,3,2,2,1,1,6,2,3,1,1,1,1,2,6,4,6,16,15,7,2,2,6,1],\"type\":\"bar\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"error_y\":{\"color\":\"rgba(31,119,180,1)\"},\"error_x\":{\"color\":\"rgba(31,119,180,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n-   Sumo paleta de colores\n\n\n::: {.cell}\n\n```{.r .cell-code}\npalet  <- c(\"#f18701\", \"#f7b801\", \"#7678ed\", \"#3d348b\")\n```\n:::\n\n\n-   Ordeno categorias y adecuo paleta de colores\n\n### final\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncount(winners, Nationality, Category) %>%   \n    plot_ly(x=~Nationality, y=~n,  type = 'bar', \n                  color = ~Category, colors = palet) %>% \n  layout(\n    title =  \"Winners of London marathon by Nationality in each category from 1981 - 2022\",\n              yaxis = list(title = 'Number of winners', range= c(0,45)), \n              xaxis = list(title = 'Nationality', categoryorder = \"total descending\",\n                           tickangle = -45),\n              barmode = \"stack\",bargap = 2, plot_bgcolor='white')\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-273caa675f247d3991e7\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-273caa675f247d3991e7\">{\"x\":{\"visdat\":{\"2f645d13302d\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"2f645d13302d\",\"attrs\":{\"2f645d13302d\":{\"x\":{},\"y\":{},\"color\":{},\"colors\":[\"#f18701\",\"#f7b801\",\"#7678ed\",\"#3d348b\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"title\":\"Winners of London marathon by Nationality in each category from 1981 - 2022\",\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Number of winners\",\"range\":[0,45]},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Nationality\",\"categoryorder\":\"total descending\",\"tickangle\":-45,\"type\":\"category\",\"categoryarray\":[\"Australia\",\"Belgium\",\"Canada\",\"China\",\"Denmark\",\"Ethiopia\",\"France\",\"Germany\",\"Ireland\",\"Italy\",\"Japan\",\"Kenya\",\"Mexico\",\"Morocco\",\"Netherlands\",\"Norway\",\"Poland\",\"Portugal\",\"Soviet Union\",\"Spain\",\"Sweden\",\"Switzerland\",\"United Kingdom\",\"United States\"]},\"barmode\":\"stack\",\"bargap\":2,\"plot_bgcolor\":\"white\",\"hovermode\":\"closest\",\"showlegend\":true},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[\"Denmark\",\"Ethiopia\",\"Japan\",\"Kenya\",\"Mexico\",\"Morocco\",\"Norway\",\"Portugal\",\"Soviet Union\",\"Spain\",\"United Kingdom\",\"United States\"],\"y\":[1,5,2,16,3,2,1,3,1,1,6,2],\"type\":\"bar\",\"name\":\"Men\",\"marker\":{\"color\":\"rgba(241,135,1,1)\",\"line\":{\"color\":\"rgba(241,135,1,1)\"}},\"textfont\":{\"color\":\"rgba(241,135,1,1)\"},\"error_y\":{\"color\":\"rgba(241,135,1,1)\"},\"error_x\":{\"color\":\"rgba(241,135,1,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[\"Australia\",\"Belgium\",\"Canada\",\"France\",\"Ireland\",\"Mexico\",\"Sweden\",\"Switzerland\",\"United Kingdom\",\"United States\"],\"y\":[2,1,4,3,2,2,1,6,16,2],\"type\":\"bar\",\"name\":\"Wheelchair Men\",\"marker\":{\"color\":\"rgba(247,184,1,1)\",\"line\":{\"color\":\"rgba(247,184,1,1)\"}},\"textfont\":{\"color\":\"rgba(247,184,1,1)\"},\"error_y\":{\"color\":\"rgba(247,184,1,1)\"},\"error_x\":{\"color\":\"rgba(247,184,1,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[\"Australia\",\"Denmark\",\"Ireland\",\"Italy\",\"Japan\",\"Netherlands\",\"Sweden\",\"Switzerland\",\"United Kingdom\",\"United States\"],\"y\":[1,2,3,4,1,1,2,4,15,6],\"type\":\"bar\",\"name\":\"Wheelchair Women\",\"marker\":{\"color\":\"rgba(118,120,237,1)\",\"line\":{\"color\":\"rgba(118,120,237,1)\"}},\"textfont\":{\"color\":\"rgba(118,120,237,1)\"},\"error_y\":{\"color\":\"rgba(118,120,237,1)\"},\"error_x\":{\"color\":\"rgba(118,120,237,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[\"China\",\"Ethiopia\",\"Germany\",\"Ireland\",\"Kenya\",\"Norway\",\"Poland\",\"Portugal\",\"United Kingdom\",\"United States\"],\"y\":[1,4,5,1,14,6,2,1,7,1],\"type\":\"bar\",\"name\":\"Women\",\"marker\":{\"color\":\"rgba(61,52,139,1)\",\"line\":{\"color\":\"rgba(61,52,139,1)\"}},\"textfont\":{\"color\":\"rgba(61,52,139,1)\"},\"error_y\":{\"color\":\"rgba(61,52,139,1)\"},\"error_x\":{\"color\":\"rgba(61,52,139,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### `{ggplot2}`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(winners, aes(x=fct_rev(fct_infreq(Nationality)))) +\n  geom_bar() +\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n-   Mejoro colores y formato\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(winners, aes(x=fct_rev(fct_infreq(Nationality)))) +\n  geom_bar(aes(fill = Category)) +\n  coord_flip() +\n  scale_fill_manual(values = c(\"#186F65\", \"#B5CB99\", \"#D988B9\", \"#B0578D\")) +\n  labs(\n    y = 'Number of winners',\n    x = 'Nationality',\n    title = \"Winners of London marathon by Nationality in each category\",\n    subtitle = \"from 1981 - 2022\",\n    caption = \"Source: Nicola Rennie's London Marathon R package\",\n  )+\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}